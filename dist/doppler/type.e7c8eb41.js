var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{d as i,q as n,B as s,r as c,o as u,c as p,an as m,h as f,G as y,E as b,ap as v,j as h,ao as w,F as x}from"./vendor.d65cd52f.js";import{p as I}from"./index.295a8195.js";import{u as k,a as j,d as D}from"./index.5d8678d5.js";import{t as g}from"./config.c2ce1255.js";import"./index.96ee9d22.js";import"./index.863982d0.js";const O=i({name:"DAddWarehouseType",components:{},props:{visible:{required:!0,type:Boolean,default:!1},formData:{type:Object,default:()=>({})},isModify:{required:!0,type:Boolean,default:!1}},setup(e,{emit:a}){const t=n({}),o=n({}),d=e.isModify?"修改":"新增";g.forEach((e=>{const{title:a,dataIndex:d}=e;e.required&&(o[d]=[{required:!0,message:`${a}不能为空！`}]),t[d]=""}));const{resetFields:l,validate:r,validateInfos:i}=k(t,o),{visibleModal:c,close:u,submit:p}=j(s(e),a,{resetFields:l,validate:r},{formItem:t,api:"/warehouse/type"});return{title:d,type:g,formItem:t,visibleModal:c,validateInfos:i,close:u,submit:p}}});O.render=function(e,a,t,o,d,l){const r=c("a-input"),i=c("a-form-item"),n=c("a-form"),s=c("a-modal");return u(),p(s,{visible:e.visibleModal,"onUpdate:visible":a[1]||(a[1]=a=>e.visibleModal=a),title:e.title,width:"800px",cancelText:"取消",okText:"提交",onOk:e.submit,onCancel:e.close},{default:m((()=>[f(n,{"label-col":{span:6},"wrapper-col":{span:14}},{default:m((()=>[(u(!0),p(y,null,b(e.type,(a=>(u(),p(y,null,[a.hideForm?h("",!0):(u(),p(i,v({key:0,key:a.dataIndex,label:a.title},e.validateInfos[a.dataIndex]),{default:m((()=>[f(r,{value:e.formItem[a.dataIndex],"onUpdate:value":t=>e.formItem[a.dataIndex]=t},null,8,["value","onUpdate:value"])])),_:2},1040,["label"]))],64)))),256))])),_:1})])),_:1},8,["visible","title","onOk","onCancel"])};const C=i({name:"DProductWarehouseType",components:{DAdd:O},setup(){const e=n({title:"仓库类型",loading:!1,data:[],rowKey:"warehouseTypeId",showModal:!1,formData:{}}),i="/warehouse/type",c=[];g.forEach((a=>{const{title:t,dataIndex:o,rowKey:d,hideTable:l}=a;d&&(e.rowKey=o),l||c.push({title:t,dataIndex:o})})),c.push({title:"操作",dataIndex:"action",align:"center",width:"80px",slots:{customRender:"action"}});const u=()=>{e.loading=!0,I({api:i,method:"get"}).then((a=>{e.loading=!1,e.data=a})).catch()},p=()=>{u()},{deleteModal:m}=D();return u(),f=((e,a)=>{for(var t in a||(a={}))d.call(a,t)&&r(e,t,a[t]);if(o)for(var t of o(a))l.call(a,t)&&r(e,t,a[t]);return e})({},s(e)),a(f,t({columns:c,query:u,update:p,add:()=>{e.showModal=!0,e.formData={}},deleteData:a=>{const t=a[e.rowKey],o={method:"delete",api:i,data:{[e.rowKey]:t}};m(o,(()=>{p()}))},modify:a=>{e.showModal=!0,e.formData=a}}));var f}}),M=x("刷新"),_=x("新增"),K=x(" 操作 ");C.render=function(e,a,t,o,d,l){const r=c("a-button"),i=c("DownOutlined"),n=c("a-menu-item"),s=c("a-menu"),b=c("a-dropdown"),v=c("d-table"),h=c("d-card"),x=c("d-add");return u(),p(y,null,[f(h,{title:e.title},{default:m((()=>[f(v,{loading:e.loading,columns:e.columns,"data-source":e.data,rowKey:e.rowKey,isSearch:!0},{header:m((()=>[f(r,{type:"primary",onClick:e.query},{default:m((()=>[M])),_:1},8,["onClick"]),f(r,{type:"primary",onClick:e.add},{default:m((()=>[_])),_:1},8,["onClick"])])),action:m((({record:t})=>[f(b,{placement:"bottomCenter"},{overlay:m((()=>[f(s,null,{default:m((()=>[f(n,{key:"modify"},{default:m((()=>[f("a",{onClick:a=>e.modify(t)},"修改",8,["onClick"])])),_:2},1024),f(n,{key:"delete"},{default:m((()=>[f("a",{onClick:a=>e.deleteData(t)},"删除",8,["onClick"])])),_:2},1024)])),_:2},1024)])),default:m((()=>[f("a",{onClick:a[1]||(a[1]=w((()=>{}),["prevent"]))},[K,f(i)])])),_:2},1024)])),_:1},8,["loading","columns","data-source","rowKey"])])),_:1},8,["title"]),f(x,{visible:e.showModal,"onUpdate:visible":a[2]||(a[2]=a=>e.showModal=a),"form-data":e.formData,"is-modify":Boolean(e.formData&&e.formData[e.rowKey]),onUpdate:e.update},null,8,["visible","form-data","is-modify","onUpdate"])],64)};export{C as default};
