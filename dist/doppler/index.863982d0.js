var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&s(e,a,t[a]);return e},i=(e,n)=>t(e,a(n));import{d as c,o as d,c as p,r as u,C as m,a as h,b as y,e as f,A as g,S as v,f as b,p as _,g as S,h as x,t as O,i as k,j as w,w as E,v as T,k as A,l as C,m as I,n as P,u as j,q as L,s as D,x as K,y as R,z as $,B as z,X as M,D as B,E as V,F as H,P as F,G,H as q,I as N,J,K as U,L as W,M as Q,N as X,O as Y,Q as Z,R as ee,T as te,U as ae,V as ne,W as oe,Y as re,Z as se,_ as le,$ as ie,a0 as ce,a1 as de,a2 as pe,a3 as ue,a4 as me,a5 as he,a6 as ye,a7 as fe,a8 as ge,a9 as ve,aa as be,ab as _e,ac as Se,ad as xe,ae as Oe,af as ke,ag as we,ah as Ee,ai as Te,aj as Ae,ak as Ce,al as Ie,am as Pe}from"./vendor.d65cd52f.js";const je=c({name:"App",components:{},setup:()=>({})});let Le;je.render=function(e,t,a,n,o,r){const s=u("router-view");return d(),p(s)};const De={},Ke=function(e,t){if(!t||0===t.length)return e();if(void 0===Le){const e=document.createElement("link").relList;Le=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/${e}`)in De)return;De[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":Le,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))},Re=e=>m.set("token",e),$e=()=>m.remove("token");var ze,Me;(Me=ze||(ze={})).BASE_LOGIN="/login",Me.BASE_HOME="/product",Me.ERROR_PAGE="/exception",Me.ERROR_LOG_PAGE="/error-log/list";const Be=new Map,Ve=e=>JSON.stringify([e.method,e.url,e.params,e.data]),He=e=>{const t=Ve(e);e.cancelToken=e.cancelToken||new h.CancelToken((e=>{Be.has(t)||Be.set(t,e)}))},Fe=e=>{const t=Ve(e);if(Be.has(t)){Be.get(t)(t),Be.delete(t)}},Ge=()=>Ke((()=>import("./index.0e54ea6e.js")),["doppler/index.0e54ea6e.js","doppler/index.ae143407.css","doppler/vendor.d65cd52f.js"]),qe={path:"/product",name:"product",component:Ge,redirect:"/product/warehouse/data",meta:{title:"物料管理",icon:"AppstoreOutlined"},children:[{path:"warehouse/:type",name:"product-warehouse",meta:{title:"仓库",redirect:"/product/warehouse/data"},component:()=>Ke((()=>import("./index.2756f23e.js")),["doppler/index.2756f23e.js","doppler/vendor.d65cd52f.js"])},{path:"material/:type",name:"product-material",component:()=>Ke((()=>import("./index.4f7ad411.js")),["doppler/index.4f7ad411.js","doppler/vendor.d65cd52f.js"]),meta:{title:"物料",redirect:"/product/material/data"}},{path:"materialParts/:type",name:"product-materialParts",component:()=>Ke((()=>import("./index.f492d335.js")),["doppler/index.f492d335.js","doppler/vendor.d65cd52f.js"]),meta:{title:"物料件",redirect:"/product/materialParts/entryFactory"}}]},Ne={path:"/setting",name:"setting",component:Ge,redirect:"/setting/role",meta:{title:"系统管理",icon:"SettingOutlined"},children:[{path:"role",name:"setting-role",component:()=>Ke((()=>import("./index.2756f23e.js")),["doppler/index.2756f23e.js","doppler/vendor.d65cd52f.js"]),meta:{title:"角色管理",hideMenu:!0}},{path:"account",name:"setting-account",component:()=>Ke((()=>import("./index.2756f23e.js")),["doppler/index.2756f23e.js","doppler/vendor.d65cd52f.js"]),meta:{title:"账号管理"}}]},Je=[{path:"/login",name:"login",component:()=>Ke((()=>import("./login.a5c221e3.js")),["doppler/login.a5c221e3.js","doppler/login.c330c034.css","doppler/vendor.d65cd52f.js","doppler/index.96ee9d22.js"]),meta:{title:"登录",hideMenu:!0,ignoreAuth:!0}},{path:"/",name:"home",redirect:ze.BASE_HOME,meta:{title:"首页",hideMenu:!0}},{path:"/404",name:"404",component:()=>Ke((()=>import("./404.eb22f6c6.js")),["doppler/404.eb22f6c6.js","doppler/vendor.d65cd52f.js"]),meta:{title:"找不到",hideMenu:!0,ignoreAuth:!0}},qe,Ne],Ue=y({history:f({}.VITE_PUBLIC_PATH),routes:Je,strict:!0,scrollBehavior:()=>({left:0,top:0})});Ue.beforeEach(((e,t,a)=>{(()=>{for(const[e,t]of Be)t(e);Be.clear()})();const{ignoreAuth:n}=e.meta;n||m.get("token")?(console.log(e),a()):a("/login")}));var We=c({name:"DCard",components:{ArrowsAltOutlined:g,ShrinkOutlined:v},props:{title:{type:String},isFold:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(){const e=b(!0);return{showContent:e,change:()=>{e.value=!e.value}}}});const Qe=A("data-v-cd0f06fc");_("data-v-cd0f06fc");const Xe={class:"d-card"},Ye={class:"d-card-title"},Ze={class:"d-card-content"},et={key:0,class:"d-loading"};S();const tt=Qe(((e,t,a,n,o,r)=>{const s=u("a-col"),l=u("ShrinkOutlined"),i=u("ArrowsAltOutlined"),c=u("a-row"),m=u("a-spin");return d(),p("div",Xe,[e.title?(d(),p(c,{key:0,class:"d-card-header",type:"flex",align:"middle",justify:"space-between"},{default:Qe((()=>[x(s,null,{default:Qe((()=>[x("span",Ye,O(e.title),1),k(e.$slots,"header",{},void 0,!0)])),_:3}),e.isFold?(d(),p(s,{key:0,onClick:e.change},{default:Qe((()=>[e.showContent?(d(),p(l,{key:0})):(d(),p(i,{key:1}))])),_:1},8,["onClick"])):w("",!0)])),_:1})):w("",!0),E(x("div",Ze,[e.loading?(d(),p("div",et,[x(m)])):k(e.$slots,"default",{key:1},void 0,!0)],512),[[T,e.showContent]])])}));We.render=tt,We.__scopeId="data-v-cd0f06fc";const at=(e,t)=>{e&&t&&Object.keys(e).forEach((a=>{Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}))};const nt=c({name:"DTable",components:{CloudDownloadOutlined:C,SettingOutlined:I,SearchOutlined:P},props:{rowKey:{type:[String,Function]},loading:{type:Boolean,default:!1},isSearch:{type:[Boolean,Object],default:!1},searchValue:{type:String,default:""},exportTitle:{type:String,default:""},pagination:{type:Boolean,default:!0},setting:{type:[Boolean,Array],default:!1},showHeader:{type:Boolean,default:!0},defaultExpandAllRows:{type:Boolean,default:!1},rowSelection:Object,columns:Array,dataSource:Array,mergeKey:{type:Array,default:()=>[]}},setup(e,{slots:t,emit:a}){var n;const o=j(),r=b(""),s=L({dataList:[],currentTable:null,isMerge:(null==(n=e.mergeKey)?void 0:n.length)>0,settingCols:e.columns});s.dataList=e.dataSource;const c=D((()=>{var t;return!(!1===e.pagination||(null==(t=e.dataSource)?void 0:t.length)<10)&&{showSizeChanger:!0,pageSize:10,pageSizeOptions:["10","20","100"],showTotal:(e,t)=>`显示${t[0]}-${t[1]}  总计 ${e} 条数据   `}}));K((()=>e.dataSource),(()=>{s.dataList=e.dataSource,d()}));const d=()=>{const t=r.value.trim();a("update:searchValue",t);let n=[];if(t){let a=t.trim().replace(/\s+/g,"").split(/\+/);a.length>1?n=e.dataSource.filter((e=>a.every((t=>JSON.stringify(Object.values(e)).indexOf(t)>-1)))):(a=t.trim().replace(/[\r\n]/g,"").split(/\s+|,|，|；|;/),n=e.dataSource.filter((e=>a.some((t=>JSON.stringify(Object.values(e)).indexOf(t)>-1)))))}else n=e.dataSource;s.dataList=n,a("getList",n)};K((()=>e.searchValue),(()=>{r.value=e.searchValue,d()})),R((()=>{o.query.searchTable&&(r.value=o.query.searchTable,d())}));const p=D((()=>{var t;const a=e.mergeKey;if((null==(t=e.mergeKey)?void 0:t.length)<=0)return s.dataList;let n=s.dataList;return a.reverse().forEach((e=>{n=((e,t)=>{const a={};return e.forEach((e=>{var n;const o=e[t];(null==(n=a[o])?void 0:n.length)||(a[o]=[]),a[o].push(e)})),Object.values(a).flat()})(n,e)})),n}));$((()=>{c.value?s.currentTable=p.value&&p.value.slice(0,c.value.pageSize)||[]:s.currentTable=p.value}));const u=D((()=>{if(!s.isMerge)return null;const t={};e.mergeKey.forEach((e=>{t[e]=new Array(s.currentTable.length)}));const a=[...s.currentTable].reverse();return 0!==a.length?(a.reduce(((a,n,o)=>(e.mergeKey.forEach((e=>{1===o&&(t[e][0]=1),t[e][o]=1,a[e]===n[e]&&(t[e][o]=t[e][o-1]+1,t[e][o-1]=0)})),n))),t):null})),m=D((()=>s.settingCols.map((a=>{const n=l({},a);if(n.filter){const e=[],t=new Set;p.value.forEach((e=>{e[n.dataIndex]&&t.add(e[n.dataIndex])}));Array.from(t).sort().forEach((t=>{e.push({text:t,value:t})})),t.size>1&&(n.filters=e,n.onFilter=(e,t)=>t[n.dataIndex]===e)}if(n.sort&&("string"===n.sort?n.sorter=(e,t)=>{const a=JSON.stringify(e[n.dataIndex]||"").toUpperCase(),o=JSON.stringify(t[n.dataIndex]||"").toUpperCase();return a<o?-1:a>o?1:0}:"number"===n.sort&&(n.sorter=(e,t)=>parseFloat(e[n.dataIndex],10)-parseFloat(t[n.dataIndex],10))),s.isMerge&&u.value){const a=n.mergeKey||n.dataIndex;e.mergeKey.includes(a)&&(n.customRender=({text:e,index:o,record:r})=>{const l={children:e,props:{}};t[n.dataIndex]&&(l.children=t[n.dataIndex]({text:e,index:o,record:r}));const i=s.currentTable.length-o-1;return l.props.rowSpan=u.value[a][i],l})}return n})))),{exportTitle:h}=e;let y=[];K(p,(()=>{y=p.value}),{immediate:!0});const f=L({sourceCols:[],initCols:[],settingModel:!1});return i(l(l({},z(f)),z(e)),{searchInput:r,tableList:p,tableColumns:m,state:s,page:c,change:(e,t,a,{currentDataSource:n})=>{"order"in a?s.isMerge=!1:(s.isMerge=!0,s.currentTable=n.splice((e.current-1)*e.pageSize,e.pageSize))},expand:(e,t)=>{a("expand",e,t)},search:d,onExport:()=>{const e=M.utils.book_new(),t={},a={},n=[];let o={};m.value.forEach((e=>{"action"!==e.dataIndex&&(t[e.dataIndex]=e.title,a[e.dataIndex]=e.dataIndex)})),y.forEach((e=>{const a={};Object.keys(t).forEach((t=>{a[t]=e[t]})),n.push(a)})),o=M.utils.json_to_sheet([t,a,...n],{skipHeader:!0}),M.utils.book_append_sheet(e,o,"name"),M.writeFile(e,`${h}.xlsx`)}})}}),ot=A("data-v-0aa68fc3");_("data-v-0aa68fc3");const rt={class:"d-table-header"},st=H(" 导出 "),lt=H(" 显示设置 ");S();const it=ot(((e,t,a,n,o,r)=>{const s=u("a-col"),l=u("a-textarea"),i=u("SearchOutlined"),c=u("a-button"),m=u("CloudDownloadOutlined"),h=u("SettingOutlined"),y=u("a-row"),f=u("a-table");return d(),p("div",null,[x("header",rt,[x(y,{type:"flex",justify:"space-between"},{default:ot((()=>[x(s,null,{default:ot((()=>[x(y,{align:"middle"},{default:ot((()=>[x(s,null,{default:ot((()=>[k(e.$slots,"left",{},void 0,!0)])),_:3}),e.isSearch?(d(),p(s,{key:0},{default:ot((()=>[x("div",{style:e.isSearch.style?e.isSearch.style:"width: 500px"},null,4),x(l,{value:e.searchInput,"onUpdate:value":t[1]||(t[1]=t=>e.searchInput=t),placeholder:"多条件查询：并集以'，'或'；'分隔；交集以'+'分隔","allow-clear":"",autoSize:{minRows:1,maxRows:10},style:`position: absolute; margin-top:-16px; z-index: 99; border-radius: 4px 0px 0px 4px;${e.isSearch.style?e.isSearch.style:"width: 500px"}`},null,8,["value","style"])])),_:1})):w("",!0),e.isSearch?(d(),p(s,{key:1},{default:ot((()=>[x(c,{type:"primary",onClick:e.search,style:{"border-radius":"0px 4px 4px 0px"}},{icon:ot((()=>[x(i)])),_:1},8,["onClick"])])),_:1})):w("",!0),x(s,null,{default:ot((()=>[k(e.$slots,"header",{},void 0,!0)])),_:3}),x(s,null,{default:ot((()=>[""!==e.exportTitle?(d(),p(c,{key:0,type:"primary",shape:"round",onClick:e.onExport},{icon:ot((()=>[x(m),st])),_:1},8,["onClick"])):w("",!0)])),_:1}),x(s,null,{default:ot((()=>[e.setting?(d(),p(c,{key:0,type:"dashed",shape:"round",onClick:e.colsSetting},{icon:ot((()=>[x(h),lt])),_:1},8,["onClick"])):w("",!0)])),_:1}),x(s,null,{default:ot((()=>[k(e.$slots,"final",{},void 0,!0)])),_:3})])),_:1})])),_:1}),x(s,null,{default:ot((()=>[k(e.$slots,"right",{},void 0,!0)])),_:3})])),_:1})]),x(f,{class:"d-table-content",columns:e.tableColumns,dataSource:e.tableList,pagination:e.page,rowKey:e.rowKey,rowSelection:e.rowSelection,showHeader:e.showHeader,loading:e.loading,defaultExpandAllRows:e.defaultExpandAllRows,locale:{filterConfirm:"确定",filterReset:"重置",emptyText:"暂无数据"},size:"small",bordered:"",onExpand:e.expand,onChange:e.change},B({_:2},[V(Object.keys(e.$slots),(t=>({name:t,fn:ot((a=>[k(e.$slots,t,a,void 0,!0)]))})))]),1032,["columns","dataSource","pagination","rowKey","rowSelection","showHeader","loading","defaultExpandAllRows","onExpand","onChange"])])}));nt.render=it,nt.__scopeId="data-v-0aa68fc3";const ct=c({name:"DTabList",components:{PlusOutlined:F},props:{data:{type:Array},activeKey:{type:String},size:{type:String,default:"default"},hideAdd:{type:Boolean,default:!0}},setup:(e,{emit:t})=>i(l({},z(e)),{clickTab:e=>{t("change",e)},addTab:()=>{t("add-tab")}})}),dt=A("data-v-38ccb5ad");_("data-v-38ccb5ad");const pt={class:"d-tab"};S();const ut=dt(((e,t,a,n,o,r)=>{const s=u("PlusOutlined");return d(),p("ul",pt,[(d(!0),p(G,null,V(e.data,((t,a)=>(d(),p("li",{key:t.key+a,class:["d-tab-item",`d-tab-${e.size}`,{active:t.key===e.activeKey}],onClick:a=>e.clickTab(t)},O(t.name),11,["onClick"])))),128)),e.hideAdd?w("",!0):(d(),p("li",{key:0,class:["d-tab-item",`d-tab-${e.size}`],onClick:t[1]||(t[1]=(...t)=>e.addTab&&e.addTab(...t))},[x(s)],2))])}));ct.render=ut,ct.__scopeId="data-v-38ccb5ad";const mt=c({name:"DTabs",components:{DTabList:ct},props:{activeKey:{type:String},size:{type:String,default:"default"},hideAdd:{type:Boolean,default:!0}},emits:["add-tab","update:activeKey"],setup(e,{emit:t}){const a=b({}),n=b([]);q("activeKey",a);q("addList",(e=>{n.value.push(e)})),q("removeList",(e=>{let t;n.value.forEach(((a,n)=>{a.key===e.key&&(t=n)})),n.value.splice(t,1)})),K((()=>e.activeKey),(()=>{a.value=e.activeKey}),{immediate:!0});return i(l({},z(e)),{current:a,list:n,change:e=>{t("update:activeKey",e.key)},addTab:()=>{t("add-tab")}})}});mt.render=function(e,t,a,n,o,r){const s=u("d-tab-list");return d(),p(G,null,[x(s,{data:e.list,activeKey:e.current,size:e.size,hideAdd:e.hideAdd,onChange:e.change,onAddTab:e.addTab},null,8,["data","activeKey","size","hideAdd","onChange","onAddTab"]),x("div",null,[k(e.$slots,"default")])],64)};const ht=c({name:"DTabView",components:{DTabList:ct},props:{list:{required:!0,type:Array,default:()=>[]},active:{type:String},keepAlive:{type:Boolean,default:!0}},setup(e){const t=N(),a=j(),n=b({key:""}),o=J({}),r={};e.list.forEach((e=>{e.file&&(r[e.key]=U((()=>e.file)))})),$((()=>{const[a]=e.list.filter((t=>t.key===e.active));n.value=null!=a?a:t.push({name:"404"}),r[n.value.key]&&(o.value=r[n.value.key])}));return i(l({},z(e)),{change:e=>t.push({path:e.route,query:a.query}),current:n,component:o})}});ht.render=function(e,t,a,n,o,r){const s=u("d-tab-list");return e.list&&e.list.length>0?(d(),p(G,{key:0},[x(s,{data:e.list,activeKey:e.current&&e.current.key,onChange:e.change},null,8,["data","activeKey","onChange"]),e.keepAlive?(d(),p(W,{key:0},[(d(),p(Q(e.component)))],1024)):(d(),p(Q(e.component),{key:1}))],64)):w("",!0)},X.config({maxCount:1,top:"80px"});const yt=Pe(je);yt.use(Ue),(e=>{const t={install(e){e.component(Y.name,Y),e.component(Z.name,Z),e.component(Z.Item.name,Z.Item),e.component(ee.name,ee),e.component(te.name,te),e.component(ae.name,ae),e.component(ae.Group.name,ae.Group),e.component(ne.name,ne),e.component(oe.name,oe),e.component(oe.RangePicker.name,oe.RangePicker),e.component(re.name,re),e.component(se.name,se),e.component(le.name,le),e.component(le.Item.name,le.Item),e.component(ie.name,ie),e.component("a-textarea",ie.TextArea),e.component(ie.Search.name,ie.Search),e.component(ce.name,ce),e.component(de.name,de),e.component(de.Header.name,de.Header),e.component(de.Sider.name,de.Sider),e.component(de.Content.name,de.Content),e.component(pe.name,pe),e.component(pe.Item.name,pe.Item),e.component(pe.SubMenu.name,pe.SubMenu),e.component(ue.name,ue),e.component(me.name,me),e.component(he.name,he),e.component(ye.name,ye),e.component(fe.name,fe),e.component(ge.name,ge),e.component("a-select-option",ge.Option),e.component("a-select-opt-group",ge.OptGroup),e.component(ve.name,ve),e.component(ve.Step.name,ve.Step),e.component(be.name,be),e.component(_e.name,_e),e.component(Se.name,Se),e.component(xe.name,xe),e.component(Oe.name,Oe),e.component(Oe.TabPane.name,Oe.TabPane),e.component(ke.name,ke),e.component(we.name,we),e.component(Ee.name,Ee),e.component("DownOutlined",Te),e.component("SettingOutlined",I),e.component("MenuUnfoldOutlined",Ae),e.component("MenuFoldOutlined",Ce),e.component("AppstoreOutlined",Ie),e.component("SearchOutlined",P),e.component("CloudDownloadOutlined",C)}};e.use(t),e.component("DCard",We),e.component("DTable",nt),e.component("DTabs",mt),e.component("DTabView",ht)})(yt),yt.mount("#app",!0);export{Ke as _,He as a,$e as b,Je as c,at as g,Fe as r,Re as s};
