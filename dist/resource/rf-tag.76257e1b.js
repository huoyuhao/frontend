var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;import{d as s,aC as d,q as n,s as p,B as f,r as u,o as m,g as c,k as g,w as b,c as y,h as v,J as D,a2 as j,T as _,I as T}from"./vendor.7b399e54.js";import{p as w}from"./index.cdf0aeb6.js";import{g as O}from"./config.8bfe03b2.js";import{D as h}from"./detail.7e3ff55f.js";import{_ as C}from"./index.0cf77487.js";import"./config.d3adc09f.js";const R=s({name:"DMaterialRfTag",components:{"a-radio-group":d.Group,"a-radio-button":d.Button,DMaterialDetail:h},setup(){const a=n({title:"标签初始化",tagStr:"",operateType:"create"}),s=n({rfTagCodeList:[]}),d=n({}),{useForm:u}=j,{resetFields:m}=u(s,d);s.rfTagCodeList=p((()=>a.tagStr.trim().split(/[\n\s+,，；;]/g).filter((a=>a))));const{rfTagCodeList:c}=f(s),{loading:g,materialDetail:b,queryMaterialDetail:y}=O(c);return v=((a,e)=>{for(var t in e||(e={}))o.call(e,t)&&i(a,t,e[t]);if(r)for(var t of r(e))l.call(e,t)&&i(a,t,e[t]);return a})({},f(a)),e(v,t({formItem:s,submit:()=>{a.loading=!0;const e="modify"===a.operateType?"put":"post";w({api:"/rfTag",method:e,data:s}).then((()=>{_.success(`${a.title}成功`),m(),a.tagStr=""})).catch()},loading:g,materialDetail:b,queryMaterialDetail:y}));var v}}),S=T("标签入厂"),x=T("标签初始化"),I=T("提交");var M=C(R,[["render",function(a,e,t,r,o,l){const i=u("a-radio-button"),s=u("a-radio-group"),d=u("a-form-item"),n=u("a-textarea"),p=u("a-button"),f=u("a-form"),j=u("d-card"),_=u("d-material-detail");return m(),c(D,null,[g(j,{title:a.title},{default:b((()=>[g(f,{name:"custom-validation",ref:"formRef",model:a.formItem,class:"d-form","label-col":{span:4},"wrapper-col":{span:12}},{default:b((()=>[g(d,{label:"操作类型"},{default:b((()=>[g(s,{value:a.operateType,"onUpdate:value":e[0]||(e[0]=e=>a.operateType=e),"button-style":"solid"},{default:b((()=>[g(i,{value:"create"},{default:b((()=>[S])),_:1}),g(i,{value:"modify"},{default:b((()=>[x])),_:1})])),_:1},8,["value"])])),_:1}),g(d,{label:"RF标签码"},{default:b((()=>[g(n,{value:a.tagStr,"onUpdate:value":e[1]||(e[1]=e=>a.tagStr=e),placeholder:"请输入RF标签码","auto-size":{minRows:3,maxRows:6},"allow-clear":""},null,8,["value"])])),_:1}),g(d,{"wrapper-col":{span:12,offset:4}},{default:b((()=>[g(p,{class:"d-button",type:"primary",onClick:a.submit},{default:b((()=>[I])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"]),a.materialDetail&&a.materialDetail.length>0&&"modify"===a.operateType?(m(),y(_,{key:0,data:a.materialDetail,loading:a.loading,onUpdate:a.queryMaterialDetail},null,8,["data","loading","onUpdate"])):v("",!0)],64)}],["__scopeId","data-v-5e95dcb9"]]);export{M as default};
