var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{d as o,u as d,M as c,q as u,s as i,z as p,L as m,aw as y,B as f,r as b,o as g,c as h,w as k,k as v,g as _,E as O,J as j,D as K,Q as w,I as x,t as A,h as C,j as M,ax as S,F as L,ay as P,az as U}from"./vendor.7b399e54.js";import{_ as D,d as q,b as E}from"./index.0cf77487.js";import{g as I}from"./index.a9f28c7c.js";import"./index.cdf0aeb6.js";const R=o({name:"DLayout",components:{},setup(){const e=d(),o=c(),{queryUser:b,userList:g,userArr:h,userObj:k,userNameObj:v}=I(),_=u({breadcrumb:[],selectedKeys:[],collapsed:!1,isRouterAlive:!1,openKeys:[]}),O=i((()=>({marginLeft:_.collapsed?"80px":"200px"}))),j=[...q];p((()=>{const a=[],t=[];let l=!1,s="";[...e.matched].forEach((e=>{const{meta:n}=e,r=String(e.name);n.title&&t.push({name:r,title:n.title}),a.push(String(r)),l||(n.hideMenu?l=!0:s=String(r))})),_.selectedKeys=[s],_.breadcrumb=t,_.openKeys=a}));return(async()=>{await b(),_.isRouterAlive=!0})(),m("queryUser",b),m("userArr",y(h)),m("userList",y(g)),m("userObj",y(k)),m("userNameObj",y(v)),K=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&r(e,t,a[t]);return e})({},f(_)),a(K,t({containerStyle:O,menu:j,clickMenu:({key:e})=>{/\//.test(e)?o.push({path:e}):o.push({name:e})},loginOut:()=>{E(),o.push({name:"login"})}}));var K}}),z=(e=>(P("data-v-f55a04c8"),e=e(),U(),e))((()=>M("div",{class:"d-logo"},"放置logo图片",-1))),N={class:"d-header-left"},B=x("首页"),F={class:"d-header-right"},J=x(" Admin ");var Q=D(R,[["render",function(e,a,t,l,s,n){const r=b("a-menu-item"),o=b("a-sub-menu"),d=b("a-menu"),c=b("a-layout-sider"),u=b("menu-unfold-outlined"),i=b("menu-fold-outlined"),p=b("a-breadcrumb-item"),m=b("a-breadcrumb"),y=b("DownOutlined"),f=b("a-dropdown"),P=b("a-layout-header"),U=b("router-view"),D=b("a-layout-content"),q=b("a-layout");return e.isRouterAlive?(g(),h(q,{key:0},{default:k((()=>[v(c,{class:"d-sider",collapsed:e.collapsed,"onUpdate:collapsed":a[2]||(a[2]=a=>e.collapsed=a),trigger:null,collapsible:""},{default:k((()=>[z,v(d,{theme:"dark",mode:"inline",selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":a[0]||(a[0]=a=>e.selectedKeys=a),openKeys:e.openKeys,"onUpdate:openKeys":a[1]||(a[1]=a=>e.openKeys=a),onClick:e.clickMenu},{default:k((()=>[(g(!0),_(j,null,O(e.menu,(e=>(g(),_(j,null,[e.meta.hideMenu?C("",!0):(g(),_(j,{key:0},[e.children&&e.children.length>0?(g(),h(o,{key:e.name},K({title:k((()=>[x(A(e.meta.title),1)])),default:k((()=>[(g(!0),_(j,null,O(e.children,(e=>(g(),_(j,null,[e.meta||!e.meta.hideMenu?(g(),h(r,{key:e.name},{default:k((()=>[x(A(e.meta.title),1)])),_:2},1024)):C("",!0)],64)))),256))])),_:2},[e.meta&&e.meta.icon?{name:"icon",fn:k((()=>[(g(),h(w(e.meta.icon)))]))}:void 0]),1024)):(g(),h(r,{key:e.name},{default:k((()=>[x(A(e.meta.title),1)])),_:2},1024))],64))],64)))),256))])),_:1},8,["selectedKeys","openKeys","onClick"])])),_:1},8,["collapsed"]),v(q,{class:"d-container",style:L(e.containerStyle)},{default:k((()=>[v(P,{class:"d-header"},{default:k((()=>[M("div",N,[e.collapsed?(g(),h(u,{key:0,class:"d-trigger",onClick:a[3]||(a[3]=()=>e.collapsed=!e.collapsed)})):(g(),h(i,{key:1,class:"d-trigger",onClick:a[4]||(a[4]=()=>e.collapsed=!e.collapsed)})),v(m,{class:"d-breadcrumb"},{default:k((()=>[v(p,null,{default:k((()=>[B])),_:1}),(g(!0),_(j,null,O(e.breadcrumb,(e=>(g(),h(p,{key:e.name},{default:k((()=>[x(A(e.title),1)])),_:2},1024)))),128))])),_:1})]),M("div",F,[v(f,null,{overlay:k((()=>[v(d,null,{default:k((()=>[v(r,null,{default:k((()=>[M("a",{onClick:a[6]||(a[6]=(...a)=>e.loginOut&&e.loginOut(...a))},"退出登陆")])),_:1})])),_:1})])),default:k((()=>[M("a",{class:"ant-dropdown-link",onClick:a[5]||(a[5]=S((()=>{}),["prevent"]))},[J,v(y)])])),_:1})])])),_:1}),v(D,{class:"d-content"},{default:k((()=>[v(U)])),_:1})])),_:1},8,["style"])])),_:1})):C("",!0)}],["__scopeId","data-v-f55a04c8"]]);export{Q as default};
