var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&l(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&l(e,a,t[a]);return e},i=(e,n)=>t(e,a(n));import{d as c,r as d,c as p,o as u,C as m,a as h,b as y,e as f,A as g,S as v,f as b,g as _,w as k,h as O,i as S,v as x,j as w,k as E,l as T,t as A,m as I,n as C,p as L,u as j,q as D,s as P,x as R,y as M,z as K,B as $,X as V,D as z,E as B,F as H,G as N,H as F,I as q,P as G,J,K as U,L as W,M as Q,N as X,O as Y,Q as Z,R as ee,T as te,U as ae,V as ne,W as oe,Y as re,Z as le,_ as se,$ as ie,a0 as ce,a1 as de,a2 as pe,a3 as ue,a4 as me,a5 as he,a6 as ye,a7 as fe,a8 as ge,a9 as ve,aa as be,ab as _e,ac as ke,ad as Oe,ae as Se,af as xe,ag as we,ah as Ee,ai as Te,aj as Ae,ak as Ie,al as Ce,am as Le,an as je,ao as De,ap as Pe,aq as Re,ar as Me}from"./vendor.a502bbf1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ke=(e,t)=>{for(const[a,n]of t)e[a]=n;return e};var $e=Ke(c({name:"App",components:{},setup:()=>({})}),[["render",function(e,t,a,n,o,r){const l=d("router-view");return u(),p(l)}]]);const Ve={},ze=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Ve)return;Ve[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},Be=e=>m.set("token",e),He=()=>m.remove("token");var Ne,Fe;(Fe=Ne||(Ne={})).BASE_LOGIN="/login",Fe.BASE_HOME="/material",Fe.ERROR_PAGE="/exception",Fe.ERROR_LOG_PAGE="/error-log/list";const qe=new Map,Ge=e=>JSON.stringify([e.method,e.url,e.params,e.data]),Je=e=>{const t=Ge(e);e.cancelToken=e.cancelToken||new h.CancelToken((e=>{qe.has(t)||qe.set(t,e)}))},Ue=e=>{const t=Ge(e);if(qe.has(t)){qe.get(t)(t),qe.delete(t)}},We=()=>ze((()=>import("./index.e5dfd227.js")),["resource/index.e5dfd227.js","resource/index.48c300a4.css","resource/vendor.a502bbf1.js","resource/index.444898cc.js","resource/index.6829e04c.js"]),Qe={path:"/material",name:"material",component:We,redirect:"/material/warehouse",meta:{title:"物料管理",icon:"AppstoreOutlined"},children:[{path:"/material/warehouse",name:"material-warehouse",redirect:"/material/warehouse/data",meta:{title:"仓库"},component:{template:"<router-view />"},children:[{path:"/material/warehouse/:type",name:"material-warehouse-type",meta:{hideMenu:!0},component:()=>ze((()=>import("./index.019e2d2a.js")),["resource/index.019e2d2a.js","resource/vendor.a502bbf1.js"])}]},{path:"/material/material/",name:"material-material",redirect:"/material/material/data",meta:{title:"物料"},component:{template:"<router-view />"},children:[{path:"/material/material/:type",name:"material-material-type",component:()=>ze((()=>import("./index.f3a53eab.js")),["resource/index.f3a53eab.js","resource/vendor.a502bbf1.js"]),meta:{hideMenu:!0}},{path:"/material/material/detail",name:"material-material-detail",redirect:"/material/material/detail/list",meta:{hideMenu:!0},component:{template:"<router-view />"},children:[{path:"/material/material/detail/:type",name:"material-material-detail-type",component:()=>ze((()=>import("./index.2e163322.js")),["resource/index.2e163322.js","resource/vendor.a502bbf1.js"]),meta:{title:"物料详情",hideMenu:!0}}]}]},{path:"/material/stock",name:"material-stock",redirect:"/material/stock/entryFactory",meta:{title:"库存"},component:{template:"<router-view />"},children:[{path:"/material/stock/:type",name:"material-stock-type",meta:{hideMenu:!0},component:()=>ze((()=>import("./index.661293cb.js")),["resource/index.661293cb.js","resource/vendor.a502bbf1.js"])}]}]},Xe={path:"/produce",name:"produce",component:We,redirect:"/produce/process",meta:{title:"生产管理",icon:"OrderedListOutlined"},children:[{path:"/produce/process",name:"produce-process",redirect:"/produce/process/data",meta:{title:"标准工序"},component:{template:"<router-view />"},children:[{path:"/produce/process/:type",name:"produce-process-type",meta:{hideMenu:!0},component:()=>ze((()=>import("./index.baa5ccc0.js")),["resource/index.baa5ccc0.js","resource/vendor.a502bbf1.js"])}]},{path:"/produce/task/",name:"produce-task",redirect:"/produce/task/data",meta:{title:"生产计划"},component:{template:"<router-view />"},children:[{path:"/produce/task/:type",name:"produce-task-type",component:()=>ze((()=>import("./index.dbc0d904.js")),["resource/index.dbc0d904.js","resource/vendor.a502bbf1.js"]),meta:{hideMenu:!0}},{path:"/produce/task/detail",name:"produce-task-detail",redirect:"/produce/task/detail/detail",meta:{hideMenu:!0},component:{template:"<router-view />"},children:[{path:"/produce/task/detail/:type",name:"produce-task-detail-type",component:()=>ze((()=>import("./index.e3e177c5.js")),["resource/index.e3e177c5.js","resource/vendor.a502bbf1.js"]),meta:{title:"生产计划详情",hideMenu:!0}}]}]}]},Ye={path:"/setting",name:"setting",component:We,redirect:"/setting/account",meta:{title:"系统管理",icon:"SettingOutlined"},children:[{path:"account",name:"setting-account",component:()=>ze((()=>import("./index.33d4ba89.js")),["resource/index.33d4ba89.js","resource/vendor.a502bbf1.js","resource/index.6829e04c.js","resource/index.81a36e1e.js"]),meta:{title:"账号管理"}}]},Ze=[{path:"/login",name:"login",component:()=>ze((()=>import("./login.394b75d4.js")),["resource/login.394b75d4.js","resource/login.d3681d4b.css","resource/vendor.a502bbf1.js","resource/index.6829e04c.js","resource/index.444898cc.js"]),meta:{title:"登录",hideMenu:!0,ignoreAuth:!0}},{path:"/",name:"home",redirect:Ne.BASE_HOME,meta:{title:"首页",hideMenu:!0}},{path:"/404",name:"404",component:()=>ze((()=>import("./404.6e73b025.js")),["resource/404.6e73b025.js","resource/vendor.a502bbf1.js"]),meta:{title:"找不到",hideMenu:!0,ignoreAuth:!0}},Qe,Xe,Ye],et=y({history:f({}.VITE_PUBLIC_PATH),routes:Ze,strict:!0,scrollBehavior:()=>({left:0,top:0})});et.beforeEach(((e,t,a)=>{(()=>{for(const[e,t]of qe)t(e);qe.clear()})();const{ignoreAuth:n}=e.meta;n||m.get("token")?a():a("/login")}));const tt=c({name:"DCard",components:{ArrowsAltOutlined:g,ShrinkOutlined:v},props:{title:{type:String},isFold:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(){const e=b(!0);return{showContent:e,change:()=>{e.value=!e.value}}}}),at={class:"d-card"},nt={class:"d-card-title"},ot={class:"d-card-content"},rt={key:0,class:"d-loading"};var lt=Ke(tt,[["render",function(e,t,a,n,o,r){const l=d("a-col"),s=d("ShrinkOutlined"),i=d("ArrowsAltOutlined"),c=d("a-row"),m=d("a-spin");return u(),_("div",at,[e.title?(u(),p(c,{key:0,class:"d-card-header",type:"flex",align:"middle",justify:"space-between"},{default:k((()=>[E(l,null,{default:k((()=>[w("span",nt,A(e.title),1),T(e.$slots,"header",{},void 0,!0)])),_:3}),e.isFold?(u(),p(l,{key:0,onClick:e.change},{default:k((()=>[e.showContent?(u(),p(s,{key:0})):(u(),p(i,{key:1}))])),_:1},8,["onClick"])):O("",!0)])),_:3})):O("",!0),S(w("div",ot,[e.loading?(u(),_("div",rt,[E(m)])):T(e.$slots,"default",{key:1},void 0,!0)],512),[[x,e.showContent]])])}],["__scopeId","data-v-473157cc"]]);const st=(e,t)=>{e&&t&&Object.keys(e).forEach((a=>{Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}))},it=(e=+new Date)=>new Date(e).toJSON().substr(0,19).replace("T"," ");const ct=c({name:"DTable",components:{CloudDownloadOutlined:I,SettingOutlined:C,SearchOutlined:L},props:{rowKey:{type:[String,Function]},loading:{type:Boolean,default:!1},isSearch:{type:[Boolean,Object],default:!1},searchValue:{type:String,default:""},exportTitle:{type:String,default:""},pagination:{type:Boolean,default:!0},setting:{type:[Boolean,Array],default:!1},showHeader:{type:Boolean,default:!0},defaultExpandAllRows:{type:Boolean,default:!1},rowSelection:Object,columns:Array,dataSource:Array,mergeKey:{type:Array,default:()=>[]}},setup(e,{slots:t,emit:a}){var n;const o=j(),r=b(""),l=D({dataList:[],currentTable:null,isMerge:(null==(n=e.mergeKey)?void 0:n.length)>0,settingCols:e.columns});l.dataList=e.dataSource;const c=P((()=>{var t;return!(!1===e.pagination||(null==(t=e.dataSource)?void 0:t.length)<10)&&{showSizeChanger:!0,pageSize:10,pageSizeOptions:["10","20","100"],showTotal:(e,t)=>`显示${t[0]}-${t[1]}  总计 ${e} 条数据   `}}));R((()=>e.dataSource),(()=>{l.dataList=e.dataSource,d()}));const d=()=>{const t=r.value.trim();a("update:searchValue",t);let n=[];if(t){let a=t.trim().replace(/\s+/g,"").split(/\+/);a.length>1?n=e.dataSource.filter((e=>a.every((t=>JSON.stringify(Object.values(e)).indexOf(t)>-1)))):(a=t.trim().replace(/[\r\n]/g,"").split(/\s+|,|，|；|;/),n=e.dataSource.filter((e=>a.some((t=>JSON.stringify(Object.values(e)).indexOf(t)>-1)))))}else n=e.dataSource;l.dataList=n,a("getList",n)};R((()=>e.searchValue),(()=>{r.value=e.searchValue,d()})),M((()=>{o.query.searchTable&&(r.value=o.query.searchTable,d())}));const p=P((()=>{var t;const a=e.mergeKey;if((null==(t=e.mergeKey)?void 0:t.length)<=0)return l.dataList;let n=l.dataList;return a.reverse().forEach((e=>{n=((e,t)=>{const a={};return e.forEach((e=>{var n;const o=e[t];(null==(n=a[o])?void 0:n.length)||(a[o]=[]),a[o].push(e)})),Object.values(a).flat()})(n,e)})),n}));K((()=>{c.value?l.currentTable=p.value&&p.value.slice(0,c.value.pageSize)||[]:l.currentTable=p.value}));const u=P((()=>{if(!l.isMerge)return null;const t={};e.mergeKey.forEach((e=>{t[e]=new Array(l.currentTable.length)}));const a=[...l.currentTable].reverse();return 0!==a.length?(a.reduce(((a,n,o)=>(e.mergeKey.forEach((e=>{1===o&&(t[e][0]=1),t[e][o]=1,a[e]===n[e]&&(t[e][o]=t[e][o-1]+1,t[e][o-1]=0)})),n))),t):null})),m=P((()=>l.settingCols.map((a=>{const n=s({},a);if(n.filter){const e=[],t=new Set;p.value.forEach((e=>{e[n.dataIndex]&&t.add(e[n.dataIndex])}));Array.from(t).sort().forEach((t=>{e.push({text:t,value:t})})),t.size>1&&(n.filters=e,n.onFilter=(e,t)=>t[n.dataIndex]===e)}if(n.sort&&("string"===n.sort?n.sorter=(e,t)=>{const a=JSON.stringify(e[n.dataIndex]||"").toUpperCase(),o=JSON.stringify(t[n.dataIndex]||"").toUpperCase();return a<o?-1:a>o?1:0}:"number"===n.sort&&(n.sorter=(e,t)=>parseFloat(e[n.dataIndex],10)-parseFloat(t[n.dataIndex],10))),l.isMerge&&u.value){const a=n.mergeKey||n.dataIndex;e.mergeKey.includes(a)&&(n.customRender=({text:e,index:o,record:r})=>{const s={children:e,props:{}};t[n.dataIndex]&&(s.children=t[n.dataIndex]({text:e,index:o,record:r}));const i=l.currentTable.length-o-1;return s.props.rowSpan=u.value[a][i],s})}return n})))),{exportTitle:h}=e;let y=[];R(p,(()=>{y=p.value}),{immediate:!0});const f=D({sourceCols:[],initCols:[],settingModel:!1});return i(s(s({},$(f)),$(e)),{searchInput:r,tableList:p,tableColumns:m,state:l,page:c,change:(e,t,a,{currentDataSource:n})=>{"order"in a?l.isMerge=!1:(l.isMerge=!0,l.currentTable=n.splice((e.current-1)*e.pageSize,e.pageSize))},expand:(e,t)=>{a("expand",e,t)},search:d,onExport:()=>{const e=V.utils.book_new(),t={},a={},n=[];let o={};m.value.forEach((e=>{"action"!==e.dataIndex&&(t[e.dataIndex]=e.title,a[e.dataIndex]=e.dataIndex)})),y.forEach((e=>{const a={};Object.keys(t).forEach((t=>{a[t]=e[t]})),n.push(a)})),o=V.utils.json_to_sheet([t,a,...n],{skipHeader:!0}),V.utils.book_append_sheet(e,o,"name"),V.writeFile(e,`${h}.xlsx`)}})}}),dt={class:"d-table-header"},pt=q(" 导出 "),ut=q(" 显示设置 ");var mt=Ke(ct,[["render",function(e,t,a,n,o,r){const l=d("a-col"),s=d("a-textarea"),i=d("SearchOutlined"),c=d("a-button"),m=d("CloudDownloadOutlined"),h=d("SettingOutlined"),y=d("a-row"),f=d("a-table");return u(),_("div",null,[w("header",dt,[E(y,{type:"flex",justify:"space-between"},{default:k((()=>[E(l,null,{default:k((()=>[E(y,{align:"middle"},{default:k((()=>[E(l,null,{default:k((()=>[T(e.$slots,"left",{},void 0,!0)])),_:3}),e.isSearch?(u(),p(l,{key:0},{default:k((()=>[w("div",{style:H(e.isSearch.style?e.isSearch.style:"width: 500px")},null,4),E(s,{value:e.searchInput,"onUpdate:value":t[0]||(t[0]=t=>e.searchInput=t),placeholder:"多条件查询：并集以'，'或'；'分隔；交集以'+'分隔","allow-clear":"",autoSize:{minRows:1,maxRows:10},style:H(`position: absolute; margin-top:-16px; z-index: 99; border-radius: 4px 0px 0px 4px;${e.isSearch.style?e.isSearch.style:"width: 500px"}`)},null,8,["value","style"])])),_:1})):O("",!0),e.isSearch?(u(),p(l,{key:1},{default:k((()=>[E(c,{type:"primary",onClick:e.search,style:{"border-radius":"0px 4px 4px 0px"}},{icon:k((()=>[E(i)])),_:1},8,["onClick"])])),_:1})):O("",!0),E(l,null,{default:k((()=>[T(e.$slots,"header",{},void 0,!0)])),_:3}),E(l,null,{default:k((()=>[""!==e.exportTitle?(u(),p(c,{key:0,type:"primary",shape:"round",onClick:e.onExport},{icon:k((()=>[E(m),pt])),_:1},8,["onClick"])):O("",!0)])),_:1}),E(l,null,{default:k((()=>[e.setting?(u(),p(c,{key:0,type:"dashed",shape:"round",onClick:e.colsSetting},{icon:k((()=>[E(h),ut])),_:1},8,["onClick"])):O("",!0)])),_:1}),E(l,null,{default:k((()=>[T(e.$slots,"final",{},void 0,!0)])),_:3})])),_:3})])),_:3}),E(l,null,{default:k((()=>[T(e.$slots,"right",{},void 0,!0)])),_:3})])),_:3})]),E(f,{class:"d-table-content",columns:e.tableColumns,dataSource:e.tableList,pagination:e.page,rowKey:e.rowKey,rowSelection:e.rowSelection,showHeader:e.showHeader,loading:e.loading,defaultExpandAllRows:e.defaultExpandAllRows,locale:{filterConfirm:"确定",filterReset:"重置",emptyText:"暂无数据"},size:"small",bordered:"",onExpand:e.expand,onChange:e.change},z({_:2},[B(Object.keys(e.$slots),(t=>({name:t,fn:k((a=>[T(e.$slots,t,N(F(a)),void 0,!0)]))})))]),1032,["columns","dataSource","pagination","rowKey","rowSelection","showHeader","loading","defaultExpandAllRows","onExpand","onChange"])])}],["__scopeId","data-v-eef23d22"]]);const ht=c({name:"DTabList",components:{PlusOutlined:G},props:{data:{type:Array},activeKey:{type:String},size:{type:String,default:"default"},hideAdd:{type:Boolean,default:!0}},setup:(e,{emit:t})=>i(s({},$(e)),{clickTab:e=>{t("change",e)},addTab:()=>{t("add-tab")}})}),yt={class:"d-tab"},ft=["onClick"];var gt=Ke(ht,[["render",function(e,t,a,n,o,r){const l=d("PlusOutlined");return u(),_("ul",yt,[(u(!0),_(J,null,B(e.data,((t,a)=>(u(),_("li",{key:t.key+a,class:U(["d-tab-item",`d-tab-${e.size}`,{active:t.key===e.activeKey}]),onClick:a=>e.clickTab(t)},A(t.name),11,ft)))),128)),e.hideAdd?O("",!0):(u(),_("li",{key:0,class:U(["d-tab-item",`d-tab-${e.size}`]),onClick:t[0]||(t[0]=(...t)=>e.addTab&&e.addTab(...t))},[E(l)],2))])}],["__scopeId","data-v-9a04ed0e"]]);var vt=Ke(c({name:"DTabs",components:{DTabList:gt},props:{activeKey:{type:String},size:{type:String,default:"default"},hideAdd:{type:Boolean,default:!0}},emits:["add-tab","update:activeKey"],setup(e,{emit:t}){const a=b({}),n=b([]);W("activeKey",a);W("addList",(e=>{n.value.push(e)})),W("removeList",(e=>{let t;n.value.forEach(((a,n)=>{a.key===e.key&&(t=n)})),n.value.splice(t,1)})),R((()=>e.activeKey),(()=>{a.value=e.activeKey}),{immediate:!0});return i(s({},$(e)),{current:a,list:n,change:e=>{t("update:activeKey",e.key)},addTab:()=>{t("add-tab")}})}}),[["render",function(e,t,a,n,o,r){const l=d("d-tab-list");return u(),_(J,null,[E(l,{data:e.list,activeKey:e.current,size:e.size,hideAdd:e.hideAdd,onChange:e.change,onAddTab:e.addTab},null,8,["data","activeKey","size","hideAdd","onChange","onAddTab"]),w("div",null,[T(e.$slots,"default")])],64)}]]);var bt=Ke(c({name:"DTabView",components:{DTabList:gt},props:{list:{required:!0,type:Array,default:()=>[]},active:{type:String},keepAlive:{type:Boolean,default:!0}},setup(e){const t=Q(),a=j(),n=b({key:""}),o=X({}),r={};e.list.forEach((e=>{e.file&&(r[e.key]=Y((()=>e.file)))})),K((()=>{const[a]=e.list.filter((t=>t.key===e.active));n.value=null!=a?a:t.push({name:"404"}),r[n.value.key]&&(o.value=r[n.value.key])}));return i(s({},$(e)),{change:e=>t.push({path:e.route,query:a.query}),current:n,component:o})}}),[["render",function(e,t,a,n,o,r){const l=d("d-tab-list");return e.list&&e.list.length>0?(u(),_(J,{key:0},[E(l,{data:e.list,activeKey:e.current&&e.current.key,onChange:e.change},null,8,["data","activeKey","onChange"]),e.keepAlive?(u(),p(ee,{key:0},[(u(),p(Z(e.component)))],1024)):(u(),p(Z(e.component),{key:1}))],64)):O("",!0)}]]);te.config({maxCount:1,top:"80px"});const _t=Me($e);_t.use(et),(e=>{const t={install(e){e.component(ae.name,ae),e.component(ne.name,ne),e.component(ne.Item.name,ne.Item),e.component(oe.name,oe),e.component(re.name,re),e.component(le.name,le),e.component(le.Group.name,le.Group),e.component(se.name,se),e.component(ie.name,ie),e.component(ie.RangePicker.name,ie.RangePicker),e.component(ce.name,ce),e.component(de.name,de),e.component(pe.name,pe),e.component(pe.Item.name,pe.Item),e.component(ue.name,ue),e.component("a-textarea",ue.TextArea),e.component(ue.Search.name,ue.Search),e.component(me.name,me),e.component(he.name,he),e.component(he.Header.name,he.Header),e.component(he.Sider.name,he.Sider),e.component(he.Content.name,he.Content),e.component(ye.name,ye),e.component(ye.Item.name,ye.Item),e.component(ye.SubMenu.name,ye.SubMenu),e.component(fe.name,fe),e.component(ge.name,ge),e.component(ve.name,ve),e.component(be.name,be),e.component(_e.name,_e),e.component(ke.name,ke),e.component("a-select-option",ke.Option),e.component("a-select-opt-group",ke.OptGroup),e.component(Oe.name,Oe),e.component(Oe.Step.name,Oe.Step),e.component(Se.name,Se),e.component(xe.name,xe),e.component(we.name,we),e.component(Ee.name,Ee),e.component(Te.name,Te),e.component(Te.TabPane.name,Te.TabPane),e.component(Ae.name,Ae),e.component(Ie.name,Ie),e.component(Ce.name,Ce),e.component("DownOutlined",Le),e.component("SettingOutlined",C),e.component("MenuUnfoldOutlined",je),e.component("MenuFoldOutlined",De),e.component("AppstoreOutlined",Pe),e.component("OrderedListOutlined",Re),e.component("SearchOutlined",L),e.component("CloudDownloadOutlined",I)}};e.use(t),e.component("DCard",lt),e.component("DTable",mt),e.component("DTabs",vt),e.component("DTabView",bt)})(_t),_t.mount("#app",!0);export{Ke as _,Je as a,He as b,ze as c,Ze as d,it as e,st as g,Ue as r,Be as s};
