var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{d as s,az as n,u as d,q as c,B as u,r as b,o as m,g as p,k as f,w as y,J as g,j,t as v,E as w,c as O,I as h}from"./vendor.a502bbf1.js";import{p as x}from"./index.6829e04c.js";import{a as T,r as k}from"./config.d3adc09f.js";import{_ as M,e as _}from"./index.b01bbdb3.js";const C=s({name:"DMaterialMaterialDetailRecord",components:{},setup(){const e=n("userNameObj"),s=d(),b=c({title:"出入库记录",loading:!1,data:[],rowKey:"",actionObj:T,detail:[],visibleModal:!1}),{materialId:m}=s.query,p=`material/storeRecord?materialId=${m}`,f=[];k.forEach((e=>{const{dataIndex:a,rowKey:t,hideTable:l}=e;t&&(b.rowKey=a),l||f.push(e)}));const y=()=>{b.loading=!0,x({api:p,method:"get"}).then((e=>{b.loading=!1,b.data=e})).catch()};return y(),g=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))r.call(a,t)&&i(e,t,a[t]);return e})({},u(b)),a(g,t({userNameObj:e,columns:f,query:y,update:()=>{y()},getTime:_,showRfDetail:e=>{b.detail=e.rfTagCodeList||[],b.visibleModal=!0}}));var g}}),E=h("刷新"),K=["onClick"];var P=M(C,[["render",function(e,a,t,l,o,r){const i=b("a-button"),s=b("d-table"),n=b("d-card"),d=b("a-col"),c=b("a-row"),u=b("a-modal");return m(),p(g,null,[f(n,{title:e.title},{default:y((()=>[f(s,{loading:e.loading,columns:e.columns,"data-source":e.data,rowKey:e.rowKey,isSearch:!0},{header:y((()=>[f(i,{type:"primary",onClick:e.query},{default:y((()=>[E])),_:1},8,["onClick"])])),materialEntityPositionType:y((({text:e})=>[j("p",null,v(0===e?"仓库":"流水线"),1)])),materialEntityAction:y((({text:a})=>[j("p",null,v(e.actionObj[a]||a),1)])),materialEntityNum:y((({record:a,text:t})=>[j("a",{onClick:t=>e.showRfDetail(a)},v(t)+"件",9,K)])),createTime:y((({text:a})=>[j("p",null,v(e.getTime(a)),1)])),user:y((({text:a})=>[j("p",null,v(e.userNameObj[a]||a),1)])),rfTagCodeList:y((({text:e})=>[j("p",null,v(e&&e.length>0&&e.join(",")),1)])),_:1},8,["loading","columns","data-source","rowKey"])])),_:1},8,["title"]),f(u,{visible:e.visibleModal,"onUpdate:visible":a[0]||(a[0]=a=>e.visibleModal=a),title:"RF标签详情",width:"800px",cancelText:"取消",okText:"提交",onOk:a[1]||(a[1]=a=>e.visibleModal=!e.visibleModal)},{default:y((()=>[(m(!0),p(g,null,w(e.detail,(e=>(m(),O(c,{key:e,class:"d-mb10"},{default:y((()=>[f(d,null,{default:y((()=>[h(v(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["visible"])],64)}]]);export{P as default};
