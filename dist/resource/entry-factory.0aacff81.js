var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{d as n,q as m,s,f as u,B as p,r as d,o as c,c as f,w as b,a2 as y,T as v,k as h,I as E}from"./vendor.7b399e54.js";import{p as I}from"./index.cdf0aeb6.js";import{_ as w}from"./index.0cf77487.js";const g=n({name:"DMaterialEntryFactory",components:{},setup(){const e=m({title:"入厂",tagStr:""}),n=m({materialId:"",rfTagCodeList:[],materialEntityAction:0,materialEntityPositionType:0,materialEntityPosition:null,materialEntityElementNumber:null}),d=m({}),{useForm:c}=y,{resetFields:f}=c(n,d);n.rfTagCodeList=s((()=>e.tagStr.trim().split(/[\n\s+,，；;]/g).filter((e=>e))));const b=u([]),h=u([]);return I({api:"/material",method:"get"}).then((e=>{b.value=e.map((e=>({value:e.materialId,label:e.materialName})))})).catch(),I({api:"/warehouse",method:"get"}).then((e=>{h.value=e.map((e=>({value:e.warehouseId,label:e.warehouseName})))})).catch(),E=((e,t)=>{for(var a in t||(t={}))l.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e})({},p(e)),t(E,a({formItem:n,materialArr:b,materialEntityPositionArr:h,submit:()=>{I({api:"/material/entity",method:"put",data:n}).then((()=>{v.success(`${e.title}成功`),f(),e.tagStr=""})).catch()}}));var E}}),P=E("提交");var _=w(g,[["render",function(e,t,a,r,l,o){const i=d("a-select"),n=d("a-form-item"),m=d("a-textarea"),s=d("a-input-number"),u=d("a-button"),p=d("a-form"),y=d("d-card");return c(),f(y,{title:e.title},{default:b((()=>[h(p,{name:"custom-validation",ref:"formRef",model:e.formItem,class:"d-form","label-col":{span:4},"wrapper-col":{span:12}},{default:b((()=>[h(n,{label:"物料",name:"materialId"},{default:b((()=>[h(i,{value:e.formItem.materialId,"onUpdate:value":t[0]||(t[0]=t=>e.formItem.materialId=t),placeholder:"请选择","show-search":"","option-filter-prop":"label",options:e.materialArr},null,8,["value","options"])])),_:1}),h(n,{label:"物料位置",name:"materialEntityPosition"},{default:b((()=>[h(i,{value:e.formItem.materialEntityPosition,"onUpdate:value":t[1]||(t[1]=t=>e.formItem.materialEntityPosition=t),placeholder:"请选择","show-search":"","option-filter-prop":"label",options:e.materialEntityPositionArr},null,8,["value","options"])])),_:1}),h(n,{label:"RF标签码",name:"tagStr"},{default:b((()=>[h(m,{value:e.tagStr,"onUpdate:value":t[2]||(t[2]=t=>e.tagStr=t),placeholder:"请输入RF标签码","auto-size":{minRows:3,maxRows:6},"allow-clear":""},null,8,["value"])])),_:1}),h(n,{label:"元素数量",name:"materialEntityElementNumber"},{default:b((()=>[h(s,{value:e.formItem.materialEntityElementNumber,"onUpdate:value":t[3]||(t[3]=t=>e.formItem.materialEntityElementNumber=t),placeholder:"输入物料件内元素数量"},null,8,["value"])])),_:1}),h(n,{"wrapper-col":{span:12,offset:4}},{default:b((()=>[h(u,{class:"d-button",type:"primary",onClick:e.submit},{default:b((()=>[P])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"])}],["__scopeId","data-v-e9d8ef80"]]);export{_ as default};
