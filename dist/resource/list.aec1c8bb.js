var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(e,a,i)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i;import{d as n,q as o,B as c,r as s,o as m,c as y,h as u,an as p,G as I,F as b}from"./vendor.3dbe8742.js";import{p as f}from"./index.d1bda31d.js";import"./index.ff13d247.js";import"./index.855c6cab.js";const x=[{title:"唯一标识",dataIndex:"materialEntityId",rowKey:!0},{title:"物料名称",dataIndex:"materialName",filter:!0},{title:"物料类型ID",dataIndex:"materialTypeId",filter:!0},{title:"元素数量",dataIndex:"materialEntityElementNumber"},{title:"RF标签码",dataIndex:"rfTagCode"},{title:"物料状态",dataIndex:"materialEntityStatus",filter:!0},{title:"物料位置",dataIndex:"materialEntityPosition",sort:"string",filter:!0}],g=[{title:"唯一标识",dataIndex:"materialEntityTraceId",rowKey:!0},{title:"RF标签码",dataIndex:"currentRFTagCode"},{title:"物料ID",dataIndex:"materialEntityId"},{title:"物料件追踪的相关操作",dataIndex:"operation"},{title:"仓库ID",dataIndex:"warehouseId"},{title:"流水线ID",dataIndex:"assemblyLineId"}],w=n({name:"DProductMaterialData",components:{},props:{data:Object},setup(){const t=o({title:"物料件",loading:!1,loading1:!1,data:[],dataTrace:[],traceRowKey:"materialEntityTraceId",rowKey:"materialEntityId",visibleModal:!1}),n=g,s=[...x,{title:"操作",dataIndex:"action",align:"center",width:"80px",slots:{customRender:"action"}}],m=()=>{t.loading=!0,f({api:"/material/entity",method:"get"}).then((e=>{t.loading=!1,t.data=e})).catch()};return m(),y=((t,e)=>{for(var a in e||(e={}))r.call(e,a)&&l(t,a,e[a]);if(i)for(var a of i(e))d.call(e,a)&&l(t,a,e[a]);return t})({},c(t)),e(y,a({columns:s,columnsTrace:n,query:m,update:()=>{m()},queryTrace:e=>{const{materialEntityId:a}=e;t.loading1=!0,t.visibleModal=!0,f({api:`material/entity/trace?materialEntityId=${a}`,method:"get"}).then((e=>{t.loading1=!1,t.dataTrace=e})).catch()}}));var y}}),h=b("刷新"),T=b("物料轨迹"),v=b("刷新");w.render=function(t,e,a,i,r,d){const l=s("a-button"),n=s("d-table"),o=s("d-card"),c=s("a-modal");return m(),y(I,null,[u(o,{title:t.title},{default:p((()=>[u(n,{loading:t.loading,columns:t.columns,"data-source":t.data,rowKey:t.rowKey,isSearch:!0},{header:p((()=>[u(l,{type:"primary",onClick:t.query},{default:p((()=>[h])),_:1},8,["onClick"])])),action:p((({record:e})=>[u(l,{type:"primary",size:"mini",onClick:a=>t.queryTrace(e)},{default:p((()=>[T])),_:2},1032,["onClick"])])),_:1},8,["loading","columns","data-source","rowKey"])])),_:1},8,["title"]),u(c,{visible:t.visibleModal,"onUpdate:visible":e[1]||(e[1]=e=>t.visibleModal=e),title:"物料轨迹",width:"1200px",cancelText:"取消",okText:"提交"},{default:p((()=>[u(n,{loading:t.loading1,columns:t.columnsTrace,"data-source":t.dataTrace,rowKey:t.traceRowKey,isSearch:!0},{header:p((()=>[u(l,{type:"primary",onClick:t.query},{default:p((()=>[v])),_:1},8,["onClick"])])),_:1},8,["loading","columns","data-source","rowKey"])])),_:1},8,["visible"])],64)};export{w as default};
